{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\alvar\\\\OneDrive\\\\Escritorio\\\\Portfolio_ArgProg\\\\FrontEnd\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { persona } from 'src/model/persona.model';\nimport { ref, uploadBytes, listAll, getDownloadURL, deleteObject } from '@angular/fire/storage';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/persona.service\";\nimport * as i2 from \"@angular/fire/storage\";\nimport * as i3 from \"src/app/service/token.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/router\";\n\nfunction AcercaDeComponent_input_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"input\", 9);\n    i0.ɵɵlistener(\"change\", function AcercaDeComponent_input_2_Template_input_change_0_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.uploadImage($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AcercaDeComponent_img_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 10);\n  }\n\n  if (rf & 2) {\n    const image_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"src\", image_r4, i0.ɵɵsanitizeUrl);\n  }\n}\n\nexport class AcercaDeComponent {\n  constructor(personaService, storage, tokenService) {\n    this.personaService = personaService;\n    this.storage = storage;\n    this.tokenService = tokenService;\n    this.persona = new persona(\"\", \"\", \"\", \"\");\n    this.isLogged = false;\n    this.images = [];\n  }\n\n  ngOnInit() {\n    this.personaService.getPersona().subscribe(data => {\n      this.persona = data;\n    });\n    this.getImages();\n\n    if (this.tokenService.getToken()) {\n      this.isLogged = true;\n      this.uploadImage;\n    }\n  }\n\n  uploadImage($event) {\n    const file = $event.target.files[0];\n    console.log(file);\n    const imagesRef = ref(this.storage, 'images');\n    const imgRef = ref(this.storage, `images/${file.name}`);\n    console.log(imgRef);\n    uploadBytes(imgRef, file).then(response => {\n      console.log(response);\n      this.getImages();\n    }).catch(error => console.log(error));\n    listAll(imagesRef).then(response => {\n      console.log(response);\n\n      if (response.items.length > 0) {\n        const oldImage = response.items[0];\n        const oldImg = ref(this.storage, `images/${oldImage.name}`);\n        deleteObject(oldImg).then(response => {\n          console.log(response);\n        }).catch(error => console.log(error));\n      }\n    }).catch(error => console.log(error));\n  }\n\n  getImages() {\n    var _this = this;\n\n    const imagesRef = ref(this.storage, 'images');\n    listAll(imagesRef).then( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (response) {\n        console.log(response);\n        _this.images = [];\n\n        for (let item of response.items) {\n          const url = yield getDownloadURL(item);\n\n          _this.images.push(url);\n        }\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()).catch(error => console.log(error));\n  }\n\n}\n\nAcercaDeComponent.ɵfac = function AcercaDeComponent_Factory(t) {\n  return new (t || AcercaDeComponent)(i0.ɵɵdirectiveInject(i1.PersonaService), i0.ɵɵdirectiveInject(i2.Storage), i0.ɵɵdirectiveInject(i3.TokenService));\n};\n\nAcercaDeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AcercaDeComponent,\n  selectors: [[\"app-acerca-de\"]],\n  decls: 17,\n  vars: 5,\n  consts: [[1, \"row\"], [\"id\", \"img\", 1, \"image\"], [\"type\", \"file\", 3, \"change\", 4, \"ngIf\"], [3, \"src\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-xs-12\", \"col-sm-2\", \"col-md-2\", \"col-lg-2\"], [\"id\", \"nombre\"], [1, \"col-xs-12\", \"col-sm-10\", \"col-md-10\", \"col-lg-10\"], [\"id\", \"descripcion\"], [\"routerLink\", \"/editar/personas/{id}\", 1, \"btn\", \"btn-primary\"], [\"type\", \"file\", 3, \"change\"], [3, \"src\"]],\n  template: function AcercaDeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵtemplate(2, AcercaDeComponent_input_2_Template, 1, 0, \"input\", 2);\n      i0.ɵɵtemplate(3, AcercaDeComponent_img_3_Template, 1, 1, \"img\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 4)(5, \"p\", 5);\n      i0.ɵɵtext(6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"p\");\n      i0.ɵɵtext(8, \"Full Stack Developer Jr.\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"div\", 6)(10, \"span\")(11, \"h1\");\n      i0.ɵɵtext(12, \"Acerca de mi\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"p\", 7);\n      i0.ɵɵtext(14);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"button\", 8);\n      i0.ɵɵtext(16, \" Actualizar \");\n      i0.ɵɵelementEnd()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.isLogged);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.images);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate2(\"\", ctx.persona.nombre, \" \", ctx.persona.apellido, \"\");\n      i0.ɵɵadvance(8);\n      i0.ɵɵtextInterpolate(ctx.persona.descripcion);\n    }\n  },\n  directives: [i4.NgIf, i4.NgForOf, i5.RouterLink],\n  styles: [\".row[_ngcontent-%COMP%]{\\n    padding: 25px;\\n    width: 100%;\\n    margin: auto;\\n}\\ndiv[_ngcontent-%COMP%]{    \\n    background-color: #33d0ef;\\n    text-align: center;\\n}\\n#nombre[_ngcontent-%COMP%]{\\n    margin-top: 45px;\\n    font-weight: bold;\\n}\\n@media (min-width: 576px) {\\n    img[_ngcontent-%COMP%]{\\n        position: absolute;\\n        width: 12%;\\n        border-radius: 100%;\\n        left: 3.6%;\\n        border-style: solid;\\n        top: 370px;\\n    }\\n}\\n@media (max-width: 575px) {\\n    img[_ngcontent-%COMP%]{\\n        width: 30%;\\n        border-radius: 100%;\\n        left: 42%;\\n        border-style: solid;\\n        top: 630px;\\n    }\\n}\\ninput[_ngcontent-%COMP%]{\\n    margin-right: 710px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjZXJjYS1kZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksYUFBYTtJQUNiLFdBQVc7SUFDWCxZQUFZO0FBQ2hCO0FBQ0E7SUFDSSx5QkFBeUI7SUFDekIsa0JBQWtCO0FBQ3RCO0FBQ0E7SUFDSSxnQkFBZ0I7SUFDaEIsaUJBQWlCO0FBQ3JCO0FBQ0E7SUFDSTtRQUNJLGtCQUFrQjtRQUNsQixVQUFVO1FBQ1YsbUJBQW1CO1FBQ25CLFVBQVU7UUFDVixtQkFBbUI7UUFDbkIsVUFBVTtJQUNkO0FBQ0o7QUFDQTtJQUNJO1FBQ0ksVUFBVTtRQUNWLG1CQUFtQjtRQUNuQixTQUFTO1FBQ1QsbUJBQW1CO1FBQ25CLFVBQVU7SUFDZDtBQUNKO0FBQ0E7SUFDSSxtQkFBbUI7QUFDdkIiLCJmaWxlIjoiYWNlcmNhLWRlLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucm93e1xuICAgIHBhZGRpbmc6IDI1cHg7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgbWFyZ2luOiBhdXRvO1xufVxuZGl2eyAgICBcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzNkMGVmO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbiNub21icmV7XG4gICAgbWFyZ2luLXRvcDogNDVweDtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbn1cbkBtZWRpYSAobWluLXdpZHRoOiA1NzZweCkge1xuICAgIGltZ3tcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB3aWR0aDogMTIlO1xuICAgICAgICBib3JkZXItcmFkaXVzOiAxMDAlO1xuICAgICAgICBsZWZ0OiAzLjYlO1xuICAgICAgICBib3JkZXItc3R5bGU6IHNvbGlkO1xuICAgICAgICB0b3A6IDM3MHB4O1xuICAgIH1cbn1cbkBtZWRpYSAobWF4LXdpZHRoOiA1NzVweCkge1xuICAgIGltZ3tcbiAgICAgICAgd2lkdGg6IDMwJTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTAwJTtcbiAgICAgICAgbGVmdDogNDIlO1xuICAgICAgICBib3JkZXItc3R5bGU6IHNvbGlkO1xuICAgICAgICB0b3A6IDYzMHB4O1xuICAgIH1cbn1cbmlucHV0e1xuICAgIG1hcmdpbi1yaWdodDogNzEwcHg7XG59Il19 */\"]\n});","map":{"version":3,"sources":["C:/Users/alvar/OneDrive/Escritorio/Portfolio_ArgProg/FrontEnd/src/app/components/acerca-de/acerca-de.component.ts"],"names":["persona","ref","uploadBytes","listAll","getDownloadURL","deleteObject","i0","i1","i2","i3","i4","i5","AcercaDeComponent_input_2_Template","rf","ctx","_r3","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","AcercaDeComponent_input_2_Template_input_change_0_listener","$event","ɵɵrestoreView","ctx_r2","ɵɵnextContext","uploadImage","ɵɵelementEnd","AcercaDeComponent_img_3_Template","ɵɵelement","image_r4","$implicit","ɵɵproperty","ɵɵsanitizeUrl","AcercaDeComponent","constructor","personaService","storage","tokenService","isLogged","images","ngOnInit","getPersona","subscribe","data","getImages","getToken","file","target","files","console","log","imagesRef","imgRef","name","then","response","catch","error","items","length","oldImage","oldImg","item","url","push","ɵfac","AcercaDeComponent_Factory","t","ɵɵdirectiveInject","PersonaService","Storage","TokenService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","AcercaDeComponent_Template","ɵɵtemplate","ɵɵtext","ɵɵadvance","ɵɵtextInterpolate2","nombre","apellido","ɵɵtextInterpolate","descripcion","directives","NgIf","NgForOf","RouterLink","styles"],"mappings":"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","sourcesContent":["import { persona } from 'src/model/persona.model';\r\nimport { ref, uploadBytes, listAll, getDownloadURL, deleteObject } from '@angular/fire/storage';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"src/app/service/persona.service\";\r\nimport * as i2 from \"@angular/fire/storage\";\r\nimport * as i3 from \"src/app/service/token.service\";\r\nimport * as i4 from \"@angular/common\";\r\nimport * as i5 from \"@angular/router\";\r\nfunction AcercaDeComponent_input_2_Template(rf, ctx) { if (rf & 1) {\r\n    const _r3 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"input\", 9);\r\n    i0.ɵɵlistener(\"change\", function AcercaDeComponent_input_2_Template_input_change_0_listener($event) { i0.ɵɵrestoreView(_r3); const ctx_r2 = i0.ɵɵnextContext(); return ctx_r2.uploadImage($event); });\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction AcercaDeComponent_img_3_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelement(0, \"img\", 10);\r\n} if (rf & 2) {\r\n    const image_r4 = ctx.$implicit;\r\n    i0.ɵɵproperty(\"src\", image_r4, i0.ɵɵsanitizeUrl);\r\n} }\r\nexport class AcercaDeComponent {\r\n    constructor(personaService, storage, tokenService) {\r\n        this.personaService = personaService;\r\n        this.storage = storage;\r\n        this.tokenService = tokenService;\r\n        this.persona = new persona(\"\", \"\", \"\", \"\");\r\n        this.isLogged = false;\r\n        this.images = [];\r\n    }\r\n    ngOnInit() {\r\n        this.personaService.getPersona().subscribe(data => { this.persona = data; });\r\n        this.getImages();\r\n        if (this.tokenService.getToken()) {\r\n            this.isLogged = true;\r\n            this.uploadImage;\r\n        }\r\n    }\r\n    uploadImage($event) {\r\n        const file = $event.target.files[0];\r\n        console.log(file);\r\n        const imagesRef = ref(this.storage, 'images');\r\n        const imgRef = ref(this.storage, `images/${file.name}`);\r\n        console.log(imgRef);\r\n        uploadBytes(imgRef, file)\r\n            .then(response => {\r\n            console.log(response);\r\n            this.getImages();\r\n        })\r\n            .catch(error => console.log(error));\r\n        listAll(imagesRef)\r\n            .then(response => {\r\n            console.log(response);\r\n            if (response.items.length > 0) {\r\n                const oldImage = response.items[0];\r\n                const oldImg = ref(this.storage, `images/${oldImage.name}`);\r\n                deleteObject(oldImg)\r\n                    .then(response => {\r\n                    console.log(response);\r\n                })\r\n                    .catch(error => console.log(error));\r\n            }\r\n        })\r\n            .catch(error => console.log(error));\r\n    }\r\n    getImages() {\r\n        const imagesRef = ref(this.storage, 'images');\r\n        listAll(imagesRef)\r\n            .then(async (response) => {\r\n            console.log(response);\r\n            this.images = [];\r\n            for (let item of response.items) {\r\n                const url = await getDownloadURL(item);\r\n                this.images.push(url);\r\n            }\r\n        })\r\n            .catch(error => console.log(error));\r\n    }\r\n}\r\nAcercaDeComponent.ɵfac = function AcercaDeComponent_Factory(t) { return new (t || AcercaDeComponent)(i0.ɵɵdirectiveInject(i1.PersonaService), i0.ɵɵdirectiveInject(i2.Storage), i0.ɵɵdirectiveInject(i3.TokenService)); };\r\nAcercaDeComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: AcercaDeComponent, selectors: [[\"app-acerca-de\"]], decls: 17, vars: 5, consts: [[1, \"row\"], [\"id\", \"img\", 1, \"image\"], [\"type\", \"file\", 3, \"change\", 4, \"ngIf\"], [3, \"src\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-xs-12\", \"col-sm-2\", \"col-md-2\", \"col-lg-2\"], [\"id\", \"nombre\"], [1, \"col-xs-12\", \"col-sm-10\", \"col-md-10\", \"col-lg-10\"], [\"id\", \"descripcion\"], [\"routerLink\", \"/editar/personas/{id}\", 1, \"btn\", \"btn-primary\"], [\"type\", \"file\", 3, \"change\"], [3, \"src\"]], template: function AcercaDeComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\r\n        i0.ɵɵtemplate(2, AcercaDeComponent_input_2_Template, 1, 0, \"input\", 2);\r\n        i0.ɵɵtemplate(3, AcercaDeComponent_img_3_Template, 1, 1, \"img\", 3);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(4, \"div\", 4)(5, \"p\", 5);\r\n        i0.ɵɵtext(6);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(7, \"p\");\r\n        i0.ɵɵtext(8, \"Full Stack Developer Jr.\");\r\n        i0.ɵɵelementEnd()();\r\n        i0.ɵɵelementStart(9, \"div\", 6)(10, \"span\")(11, \"h1\");\r\n        i0.ɵɵtext(12, \"Acerca de mi\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(13, \"p\", 7);\r\n        i0.ɵɵtext(14);\r\n        i0.ɵɵelementEnd()();\r\n        i0.ɵɵelementStart(15, \"button\", 8);\r\n        i0.ɵɵtext(16, \" Actualizar \");\r\n        i0.ɵɵelementEnd()()();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.isLogged);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngForOf\", ctx.images);\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵtextInterpolate2(\"\", ctx.persona.nombre, \" \", ctx.persona.apellido, \"\");\r\n        i0.ɵɵadvance(8);\r\n        i0.ɵɵtextInterpolate(ctx.persona.descripcion);\r\n    } }, directives: [i4.NgIf, i4.NgForOf, i5.RouterLink], styles: [\".row[_ngcontent-%COMP%]{\\n    padding: 25px;\\n    width: 100%;\\n    margin: auto;\\n}\\ndiv[_ngcontent-%COMP%]{    \\n    background-color: #33d0ef;\\n    text-align: center;\\n}\\n#nombre[_ngcontent-%COMP%]{\\n    margin-top: 45px;\\n    font-weight: bold;\\n}\\n@media (min-width: 576px) {\\n    img[_ngcontent-%COMP%]{\\n        position: absolute;\\n        width: 12%;\\n        border-radius: 100%;\\n        left: 3.6%;\\n        border-style: solid;\\n        top: 370px;\\n    }\\n}\\n@media (max-width: 575px) {\\n    img[_ngcontent-%COMP%]{\\n        width: 30%;\\n        border-radius: 100%;\\n        left: 42%;\\n        border-style: solid;\\n        top: 630px;\\n    }\\n}\\ninput[_ngcontent-%COMP%]{\\n    margin-right: 710px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjZXJjYS1kZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksYUFBYTtJQUNiLFdBQVc7SUFDWCxZQUFZO0FBQ2hCO0FBQ0E7SUFDSSx5QkFBeUI7SUFDekIsa0JBQWtCO0FBQ3RCO0FBQ0E7SUFDSSxnQkFBZ0I7SUFDaEIsaUJBQWlCO0FBQ3JCO0FBQ0E7SUFDSTtRQUNJLGtCQUFrQjtRQUNsQixVQUFVO1FBQ1YsbUJBQW1CO1FBQ25CLFVBQVU7UUFDVixtQkFBbUI7UUFDbkIsVUFBVTtJQUNkO0FBQ0o7QUFDQTtJQUNJO1FBQ0ksVUFBVTtRQUNWLG1CQUFtQjtRQUNuQixTQUFTO1FBQ1QsbUJBQW1CO1FBQ25CLFVBQVU7SUFDZDtBQUNKO0FBQ0E7SUFDSSxtQkFBbUI7QUFDdkIiLCJmaWxlIjoiYWNlcmNhLWRlLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucm93e1xuICAgIHBhZGRpbmc6IDI1cHg7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgbWFyZ2luOiBhdXRvO1xufVxuZGl2eyAgICBcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzNkMGVmO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbiNub21icmV7XG4gICAgbWFyZ2luLXRvcDogNDVweDtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbn1cbkBtZWRpYSAobWluLXdpZHRoOiA1NzZweCkge1xuICAgIGltZ3tcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB3aWR0aDogMTIlO1xuICAgICAgICBib3JkZXItcmFkaXVzOiAxMDAlO1xuICAgICAgICBsZWZ0OiAzLjYlO1xuICAgICAgICBib3JkZXItc3R5bGU6IHNvbGlkO1xuICAgICAgICB0b3A6IDM3MHB4O1xuICAgIH1cbn1cbkBtZWRpYSAobWF4LXdpZHRoOiA1NzVweCkge1xuICAgIGltZ3tcbiAgICAgICAgd2lkdGg6IDMwJTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTAwJTtcbiAgICAgICAgbGVmdDogNDIlO1xuICAgICAgICBib3JkZXItc3R5bGU6IHNvbGlkO1xuICAgICAgICB0b3A6IDYzMHB4O1xuICAgIH1cbn1cbmlucHV0e1xuICAgIG1hcmdpbi1yaWdodDogNzEwcHg7XG59Il19 */\"] });\r\n"]},"metadata":{},"sourceType":"module"}